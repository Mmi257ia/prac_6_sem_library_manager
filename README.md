## Библиотека
### 3-й этап задания
Внесены изменения в описание сайта из этапа 1, уточняющие описание сайта:  
<details>
<summary>Изменения описания сайта</summary>  

- переход на "Выдать книгу" со страницы "Книги" удалён, аналогичный переход введёт со страницы "Список экземпляров книги"  

- в описание страницы "Читатели" добавлена возможность отфильтровать  

- в описание страницы "Книги" добавлена возможность фильтрации по ISBN и удаления книги  

- в описание страницы "Список экземпляров книги" добавлена возможность переход на страницу выдачи некого экземпляра или возврата его в библиотеку  

- в описание страницы "Экземпляр книги" добавлена возможность вернуть экземпляр в библиотеку.  

</details>
Добавлен пакет `lib`, содержащий вспомогательные классы `Event` и `BookAndStatus`, позволяющие более удобно отображать на страницах данные из БД.  
Также добавлены вспомогательные функции в `IssueDAO.Filter`.  

Реализованы контроллеры, они лежат в пакете `lib`. В отдельном классе - контроллеры для отдельных страниц сайта + в `IssueController` есть обработчик запроса на возврат книги. Общая логика в том, что запросы на получение страницы оформляются в виде GET-запросов, в параметрах URI могут указываться параметры фильтрации; запросы на взаимодействие с БД оформляются в виде POST-запросов, которые обычно возвращают пользователя на ту же страницу, с которой он запрос и отправил.
### 2-й этап задания
Реализованы классы данных, DAO-интерфейсы и реализации, а также тесты.  
Использована библиотека Lombok для автогенерации геттеров и сеттеров.  
Тесты реализованы через JUnit.  
Весь отчёт с 1-го этапа задания (в т. ч. схема БД и сайта) лежат в папке docs.  

Связывание объектов с БД происходит с помощью аннотаций, настройки подключения к БД описаны в файле ``main/resources/application.properties`` (для тестов - ``test/resources/application.properties``; там указана тестовая БД, но она полностью аналогична обычной, и тесты её не портят, можно смело менять ``library_test`` на ``library``) (тоже подключаются при помощи аннотаций).  

В некоторых DAO-интерфейсах описаны вложенные классы Filter, через которые задаются параметры для отбора объектов в запросе. Покрытие тестами - 92% методов и 98% строк (на самом деле, не покрыты только автоматически созданные Lombok'ом Setter'ы и NoArgsConstructor'ы для Filter'ов, все методы получения объектов покрыты полностью). Покрытие измеряется в Idea.  
![Покрытие](/docs/test_coverage.png)